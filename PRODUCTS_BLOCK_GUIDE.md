# คู่มือการใช้งาน ProductsBlock

## ภาพรวม

ProductsBlock เป็น component ที่ใช้สำหรับแสดงสินค้าในหน้าเว็บไซต์ สามารถแสดงสินค้าที่มีราคาลดพิเศษ หรือสินค้าทั้งหมดได้ พร้อมรองรับการแสดงผลแบบ Grid และ Slider

## ฟีเจอร์หลัก

### 1. การแสดงสินค้า
- แสดงสินค้าที่มีราคาลดพิเศษ (Sale Price)
- แสดงสินค้าตามหมวดหมู่ที่เลือก
- รองรับการกำหนดจำนวนสินค้าที่แสดง (1-20 รายการ)

### 2. รูปแบบการแสดงผล
- **Grid Layout**: แสดงเป็นตารางแบบ responsive
- **Slider Layout**: แสดงเป็น carousel พร้อม navigation

### 3. การปรับแต่งธีมสี
- รองรับธีมสีต่างๆ ตามส่วน Hero
- ปรับสีพื้นหลัง, ข้อความ, และปุ่มอัตโนมัติ

## การตั้งค่าใน Admin Panel

### 1. เพิ่ม ProductsBlock ในหน้า
1. เข้าสู่ Admin Panel
2. ไปที่หน้าที่ต้องการเพิ่ม ProductsBlock
3. เลือก "เพิ่ม Block" → "บล็อกสินค้า"

### 2. การตั้งค่า ProductsBlock

#### ข้อมูลพื้นฐาน
- **หัวข้อ**: ชื่อหัวข้อของส่วนสินค้า (เช่น "สินค้าลดราคาพิเศษ")
- **คำอธิบาย**: คำอธิบายใต้หัวข้อ (เช่น "สินค้าคุณภาพดีราคาพิเศษ จำกัดเวลา")

#### การกรองสินค้า
- **จำนวนสินค้าที่แสดง**: เลือกจำนวน 1-20 รายการ
- **แสดงเฉพาะสินค้าลดราคา**: เปิด/ปิด การแสดงเฉพาะสินค้าที่มี Sale Price
- **หมวดหมู่สินค้า**: เลือกหมวดหมู่ที่ต้องการแสดง (ถ้าไม่เลือกจะแสดงทุกหมวดหมู่)

#### การแสดงผล
- **รูปแบบการแสดงผล**: เลือก Grid หรือ Slider
- **แสดงปุ่มดูทั้งหมด**: เปิด/ปิด ปุ่ม "ดูสินค้าทั้งหมด"
- **ลิงก์ปุ่มดูทั้งหมด**: URL ที่ปุ่มจะไป (เช่น "/products")

## การจัดการสินค้า

### 1. เพิ่มสินค้าใหม่
1. ไปที่ Collections → Products
2. คลิก "Create New"
3. กรอกข้อมูลสินค้า:
   - **ชื่อสินค้า** (title)
   - **คำอธิบายสั้น** (shortDescription)
   - **ราคาปกติ** (price)
   - **ราคาลดพิเศษ** (salePrice) - ถ้ามี
   - **จำนวนคงเหลือ** (stock)
   - **สถานะ** (status): active, inactive, out_of_stock, discontinued
   - **หมวดหมู่** (categories)
   - **รูปภาพ** (images)
   - **รายละเอียดสินค้า** (specifications)

### 2. การตั้งค่าราคาลดพิเศษ
- กรอก **ราคาปกติ** ในช่อง Price
- กรอก **ราคาลดพิเศษ** ในช่อง Sale Price
- ระบบจะคำนวณเปอร์เซ็นต์ส่วนลดอัตโนมัติ
- สินค้าจะแสดงป้าย "ลดราคา" และราคาเดิมจะขีดฆ่า

### 3. การจัดการหมวดหมู่
1. ไปที่ Collections → Categories
2. สร้างหมวดหมู่ใหม่หรือแก้ไขที่มีอยู่
3. เชื่อมโยงสินค้ากับหมวดหมู่ในหน้าแก้ไขสินค้า

## การแสดงผลในเว็บไซต์

### Grid Layout
```
[สินค้า 1] [สินค้า 2] [สินค้า 3] [สินค้า 4]
[สินค้า 5] [สินค้า 6] [สินค้า 7] [สินค้า 8]
```

### Slider Layout
```
← [สินค้า 1] [สินค้า 2] [สินค้า 3] →
  ● ○ ○ (pagination dots)
```

## การปรับแต่งขั้นสูง

### 1. การแก้ไข Component
ไฟล์ที่เกี่ยวข้อง:
- `src/blocks/ProductsBlock/Component.tsx` - หน้าตาและการทำงาน
- `src/blocks/ProductsBlock/config.ts` - การตั้งค่าใน Admin
- `src/components/ProductCard/index.tsx` - การ์ดสินค้า

### 2. การปรับแต่งสไตล์
- แก้ไข CSS classes ใน Component files
- ปรับ responsive breakpoints
- เปลี่ยนสีและธีม

### 3. การเพิ่มฟีเจอร์
- เพิ่มการกรองตามราคา
- เพิ่มการเรียงลำดับ
- เพิ่มการค้นหาสินค้า

## หน้าสินค้า

### หน้ารายการสินค้าทั้งหมด
- URL: `/products`
- แสดงสินค้าทั้งหมดแบบ Grid
- รองรับ pagination

### หน้ารายละเอียดสินค้า
- URL: `/products/[slug]`
- แสดงรายละเอียดครบถ้วน
- แสดงสินค้าที่เกี่ยวข้อง
- ปุ่มสั่งซื้อและติดต่อ

## การแก้ไขปัญหา

### สินค้าไม่แสดง
1. ตรวจสอบสถานะสินค้าเป็น "active"
2. ตรวจสอบการตั้งค่า "แสดงเฉพาะสินค้าลดราคา"
3. ตรวจสอบการเลือกหมวดหมู่

### รูปภาพไม่แสดง
1. ตรวจสอบการอัปโหลดรูปภาพในหน้าแก้ไขสินค้า
2. ตรวจสอบขนาดและรูปแบบไฟล์รูปภาพ

### ราคาลดไม่แสดง
1. ตรวจสอบ Sale Price น้อยกว่า Price
2. ตรวจสอบสถานะสินค้าไม่เป็น "inactive"

## ตัวอย่างการใช้งาน

### สินค้าลดราคาพิเศษ
```
หัวข้อ: "สินค้าลดราคาพิเศษ"
คำอธิบาย: "ลดสูงสุด 50% เฉพาะสินค้าคุณภาพ"
แสดงเฉพาะสินค้าลดราคา: เปิด
จำนวนสินค้า: 8
รูปแบบ: Grid
```

### สินค้าแนะนำ
```
หัวข้อ: "สินค้าแนะนำ"
คำอธิบาย: "สินค้าขายดีประจำเดือน"
แสดงเฉพาะสินค้าลดราคา: ปิด
จำนวนสินค้า: 6
รูปแบบ: Slider
```

### สินค้าตามหมวดหมู่
```
หัวข้อ: "เครื่องมือช่าง"
คำอธิบาย: "เครื่องมือคุณภาพสำหรับมืออาชีพ"
หมวดหมู่: เลือก "เครื่องมือช่าง"
จำนวนสินค้า: 12
รูปแบบ: Grid
``` 